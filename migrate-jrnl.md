# jrnl 数据迁移到鲁迅日记

这个脚本用于将 jrnl（一个终端日记工具）的数据迁移到鲁迅日记应用中。

## 功能特点

- 自动识别并解析 jrnl 的日记条目
- 支持从 jrnl 格式中提取日期、天气和内容
- 自动创建符合 Nostr 30027 规范的事件
- 按照鲁迅日记的数据格式存储
- 避免重复导入同一天的条目

## 使用方法

1. 确保你已安装 Python 3
2. 将脚本放在任意位置
3. 执行以下命令：

```bash
python3 migrate-jrnl.py [jrnl_数据路径]
```

默认情况下，脚本会尝试从 `~/Desktop/brain` 目录导入数据。如果你的 jrnl 数据存储在其他位置，可以将路径作为参数传递：

```bash
python3 migrate-jrnl.py /path/to/your/jrnl/data
```

## 数据格式

该脚本期望 jrnl 数据按以下格式组织：

```
/数据根目录
  /年份 (如 2022, 2023)
    /月份 (如 01, 02, ...12)
      日期.txt (如 01.txt, 02.txt, ...)
```

每个日期文件应该包含以下格式的内容：

```
[YYYY-MM-DD HH:MM] 天气
日记内容...
```

例如：

```
[2022-09-06 13:20] 放晴，复热
龟池旁栽水芋头三株，一土培之于盆，一水培之于滤器，一水培之于鱼缸，皆出新叶已。以土培者长势最猛。喜。
```

## 注意事项

- 脚本会自动创建或连接到鲁迅日记的数据库
- 脚本生成的 Nostr 事件只有占位签名，实际应用中无法验证
- 如果数据库中已存在同一日期的条目，脚本会跳过该条目
- 迁移成功后，打开鲁迅日记应用即可查看导入的日记

## 调试

如果迁移过程中遇到问题，可以检查以下内容：

1. 确保 jrnl 数据目录结构正确
2. 检查日期文件的格式是否符合预期
3. 查看鲁迅日记数据库路径是否正确 
